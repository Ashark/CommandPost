--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
--                         U S E R     G U I D E                              --
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
-- EXTENSIONS:
--------------------------------------------------------------------------------
local metadata			= require("cp.config")

--------------------------------------------------------------------------------
-- CONSTANTS:
--------------------------------------------------------------------------------
local PRIORITY 			= 1

--------------------------------------------------------------------------------
-- THE MODULE:
--------------------------------------------------------------------------------
local mod = {}

function mod.openUserGuide()
	os.execute('open "http://help.commandpost.io/"')
end

--------------------------------------------------------------------------------
-- THE PLUGIN:
--------------------------------------------------------------------------------
local plugin = {
	id				= "core.helpandsupport.userguide",
	group			= "core",
	dependencies	= {
		["core.menu.helpandsupport"]	= "helpandsupport",
	}
}

--------------------------------------------------------------------------------
-- INITIALISE PLUGIN:
--------------------------------------------------------------------------------
function plugin.init(deps)
	deps.helpandsupport:addItem(PRIORITY, function()
		return { title = i18n("userGuide"),	fn = mod.openUserGuide }
	end)
	return mod
end

return plugin